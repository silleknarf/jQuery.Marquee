/**
 * jQuery.marquee - scrolling text like old marquee element
 * @author Aamir Afridi - aamirafridi(at)gmail(dot)com / http://aamirafridi.com/jquery/jquery-marquee-plugin
 */
!function(A){A.fn.marquee=function(k){return this.each(function(){var a,r,n,i,s,o=A.extend({},A.fn.marquee.defaults,k),u=A(this),d=3,t="animation-play-state",p=!1,l=function(t,e,a){for(var r=["webkit","moz","MS","o",""],n=0;n<r.length;n++)r[n]||(e=e.toLowerCase()),t.addEventListener(r[n]+e,a,!1)},f=function(){u.timer=setTimeout(V,o.delayBeforeStart)},e={pause:function(){p&&o.allowCss3Support?a.css(t,"paused"):A.fn.pause&&a.pause(),u.data("runningStatus","paused"),u.trigger("paused")},resume:function(){p&&o.allowCss3Support?a.css(t,"running"):A.fn.resume&&a.resume(),u.data("runningStatus","resumed"),u.trigger("resumed")},toggle:function(){e["resumed"===u.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(u.timer),u.find("*").addBack().off(),u.html(u.find(".js-marquee:first").html())}};if("string"!=typeof k){var c;A.each(o,function(t){if(void 0!==(c=u.attr("data-"+t))){switch(c){case"true":c=!0;break;case"false":c=!1}o[t]=c}}),o.speed&&(o.duration=parseInt(u.width(),10)/o.speed*1e3),i="up"===o.direction||"down"===o.direction,o.gap=o.duplicated?parseInt(o.gap):0,u.wrapInner('<div class="js-marquee"></div>');var m=u.find(".js-marquee").css({"margin-right":o.gap,float:"left"});if(o.duplicated&&m.clone(!0).appendTo(u),u.wrapInner('<div style="width:'+o.maximumTextWidth+'px" class="js-marquee-wrapper"></div>'),a=u.find(".js-marquee-wrapper"),i){var g=u.height();a.removeAttr("style"),u.height(g),u.find(".js-marquee").css({float:"none","margin-bottom":o.gap,"margin-right":0}),o.duplicated&&u.find(".js-marquee:last").css({"margin-bottom":0});var h=u.find(".js-marquee:first").height()+o.gap;o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(h,10)+parseInt(g,10))/parseInt(g,10)*o.duration,o.duration=parseInt(h,10)/parseInt(g,10)*o.duration):o.duration=(parseInt(h,10)+parseInt(g,10))/parseInt(g,10)*o.duration}else s=u.find(".js-marquee:first").width()+o.gap,r=u.width(),o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(s,10)+parseInt(r,10))/parseInt(r,10)*o.duration,o.duration=parseInt(s,10)/parseInt(r,10)*o.duration):o.duration=(parseInt(s,10)+parseInt(r,10))/parseInt(r,10)*o.duration;if(o.duplicated&&(o.duration=o.duration/2),o.allowCss3Support){var v=document.body||document.createElement("div"),x="marqueeAnimation-"+Math.floor(1e7*Math.random()),y="Webkit Moz O ms Khtml".split(" "),I="animation",w="",S="";if(void 0!==v.style.animation&&(S="@keyframes "+x+" ",p=!0),!1===p)for(var b=0;b<y.length;b++)if(void 0!==v.style[y[b]+"AnimationName"]){var q="-"+y[b].toLowerCase()+"-";I=q+I,t=q+t,S="@"+q+"keyframes "+x+" ",p=!0;break}p&&(w=x+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s infinite "+o.css3easing,u.data("css3AnimationIsSupported",!0))}var j=function(){a.css("transform","translateY("+("up"===o.direction?g+"px":"-"+h+"px")+")")},C=function(){a.css("transform","translateX("+("left"===o.direction?r+"px":"-"+s+"px")+")")};o.duplicated?(i?o.startVisible?a.css("transform","translateY(0)"):a.css("transform","translateY("+("up"===o.direction?g+"px":"-"+(2*h-o.gap)+"px")+")"):o.startVisible?a.css("transform","translateX(0)"):a.css("transform","translateX("+("left"===o.direction?r+"px":"-"+(2*s-o.gap)+"px")+")"),o.startVisible||(d=1)):o.startVisible?d=2:i?j():C();var V=function(){if(o.duplicated&&(1===d?(o._originalDuration=o.duration,o.duration=i?"up"===o.direction?o.duration+g/(h/o.duration):2*o.duration:"left"===o.direction?o.duration+r/(s/o.duration):2*o.duration,w&&(w=x+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),d++):2===d&&(o.duration=o._originalDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),d++)),i?o.duplicated?(2<d&&a.css("transform","translateY("+("up"===o.direction?0:"-"+h+"px")+")"),n={transform:"translateY("+("up"===o.direction?"-"+h+"px":0)+")"}):o.startVisible?2===d?(w&&(w=x+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),n={transform:"translateY("+("up"===o.direction?"-"+h+"px":g+"px")+")"},d++):3===d&&(o.duration=o._completeDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),j()):(j(),n={transform:"translateY("+("up"===o.direction?"-"+a.height()+"px":g+"px")+")"}):o.duplicated?(2<d&&a.css("transform","translateX("+("left"===o.direction?0:"-"+s+"px")+")"),n={transform:"translateX("+("left"===o.direction?"-"+s+"px":0)+")"}):o.startVisible?2===d?(w&&(w=x+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),n={transform:"translateX("+("left"===o.direction?"-"+s+"px":r+"px")+")"},d++):3===d&&(o.duration=o._completeDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),C()):(C(),n={transform:"translateX("+("left"===o.direction?"-"+s+"px":r+"px")+")"}),u.trigger("beforeStarting",{duration:o.duration}),p){a.css(I,w);var t=S+" { 100%  "+function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a+":"+t[a]);return e.push(),"{"+e.join(",")+"}"}(n)+"}",e=a.find("style");0!==e.length?e.filter(":last").html(t):A("head").append("<style>"+t+"</style>"),l(a[0],"AnimationIteration",function(){u.trigger("finished")}),l(a[0],"AnimationEnd",function(){V(),u.trigger("finished")})}else a.animate(n,o.duration,o.easing,function(){u.trigger("finished"),o.pauseOnCycle?f():V()});u.data("runningStatus","resumed")};u.on("pause",e.pause),u.on("resume",e.resume),o.pauseOnHover&&(u.on("mouseenter",e.pause),u.on("mouseleave",e.resume)),p&&o.allowCss3Support?V():f()}else A.isFunction(e[k])&&(a||(a=u.find(".js-marquee-wrapper")),!0===u.data("css3AnimationIsSupported")&&(p=!0),e[k]())})},A.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1,maximumTextWidth:1e5}}(jQuery);